*  updated doc/RELEASE.NOTES: doc/cvs_rel_notes.sh --update_REL_NOTES <next_rev>
*  edit/massage the release notes file (note: fmt of next_rev="vX_YY_ZZ" (ie v3_02_03)
*  cvs ci -m'next rev (rev <next_rev>)' # for release notes
*  cvs tag <next_rev>

ksu products
cd /products/TRACE

: get the source...
. ~ron/.profile
tag=v3_02_00
cvs -d:pserver:anonymous@cdcvs.fnal.gov:/cvs/projects/trace export -r$tag -d$tag trace
OR
cvs -d:ext:p-trace@cdcvs.fnal.gov:/cvs/projects/trace export -r$tag -d$tag trace

: setup specific compiler
PRODUCTS=/products:~ron/p
setup gcc git

cd $tag
make OUT=$PWD CPPFLAGS="-O2 -std=c11"   src_lib src_utility 2>&1 | egrep -iB4 'error|warn'
make OUT=$PWD CPPFLAGS="-O2 -std=c++11" src_example_user    2>&1 | egrep -iB4 'error|warn'
make OUT=$PWD modules                                       2>&1 | egrep -iB4 'error|warn'

: ?other kernel versions?

# rm -fr /products/TRACE/current.chain
ups declare -c -z/products -rTRACE/$tag -Mups -mTRACE.table -fLinux64bit+2.6 TRACE $tag
ups declare -c -z/products -rTRACE/$tag -Mups -mTRACE.table -fLinux+2.6 TRACE $tag

: ?test?

cd /products
tar cjf /tmp/TRACE-`echo $tag|sed 's/v//;s/_/./g'`-slf6.tar.bz2 TRACE/$tag*
scp /tmp/TRACE-*-slf6.tar.bz2 distro@oink:served_files/packages/TRACE

: ?scp elsewhere?

rm -f /tmp/TRACE-*-slf6.tar.bz2
