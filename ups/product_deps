#!/bin/sh
########################################################################
# product_deps
#
#   Define attributes of a package to be built and distributed as a UPS
#   product.
#
# This file is parsed as a consequence of sourcing the
# setup_for_development or setup_deps shell-agnostic scripts.
#
# Generated by cetmodules 2.26.00 at Fri Aug 27 12:10:15 CDT 2021
########################################################################

####################################
# Basic information.

##################
# parent
##################
#
# The parent line - if present - must be the first non-comment line in
# the file, defining the product's name and version. Any information not
# specified will be taken from the CMake project(<project-name> VERSION
# <dot-version>) call in the CMakeLists.txt in the parent directory to
# the one containing this file.
#
# Recommended:
#
parent TRACE
#
# Deprecated (will produce a warning):
#
#>  parent <product-name> <product-ups-version> [<chain>]...

##################
# chain[s]
##################
#
# List the UPS chains ("-c", -t, "new," "current," "old...") to be defined
# for the package. The trailing `s' is optional and without meaning.
# Multiple chains may be specified with one or more declarations.
#
#>  chains <chain>...

##################
# defaultqual
##################
#
# The default colon-delimited qualifier set used if one is not provided
# to setup_for_development. Build type (debug, opt or prof) is optional.
#
# Deprecated - a qualifier should generally be provided to the
# invocation of setup_for_development or setup_deps.
#
#>  defaultqual <qualifiers>

##################
# noarch
##################
#
# Specify this keyword if the package is architecture-independent. This
# does not necessarily imply a lack of qualifiers or of a
# fully-qualified (fq) subdirectory in the installed package.
#
noarch

##################
# no_fq_dir
##################
#
# Specify this keyword if the UPS package should not have a
# fully-qualified (fq) subdirectory in the installed package. This does
# not necessarily imply noarch or a lack of qualifiers, but caution
# should be observed if using this keyword for architecture-dependent
# packages or those with qualifiers to avoid overwritten files when
# multiple different variants of the package are installed in the same
# UPS area.
#
no_fq_dir

##################
# define_pythonpath
##################
#
# If define_pythonpath is enabled, the appropriate path will be appended
# to PYTHONPATH.
#
#>  define_pythonpath
####################################

####################################
# Directory specifications.
#
# These optional definitions specify the installed directories where
# various files headers, libraries, and executables will be found. Some
# have defaults; others must be specified if files of that type are to
# be installed. Minimize configuration complexity by using only those
# definitions necessary for the package.
#
##################
# Notes:
#
# * Use directory specifications only if the defaults are inappropriate
#   for your product.
#
# * A specification with defaults may be obviated by specifying a base
#   of `-' as the only argument.
#
# * A directory will be created and appropriate UPS table file entries
#   made *if and only if* files of that type are installed using the
#   appropriate directive.
#
##################
# Format:
#
#>  <spec>		<base>		[<subdir-name>]
#
# <base> may be `-' (negate defaults), "product_dir", or "fq_dir" as
# desired.
#
# Available <spec>s and defaults:
#
#>  bindir		fq_dir		bin
#
#     Built binaries for public use.
#
#>  cmakemoduledir	product_dir	Modules
#
#     CMake modules.
#
#>  fcldir		product_dir	fcl
#
#     FHiCL framework configuration files.
#
#>  fwdir
#
#     Framework data.
#
#>  gdmldir		product_dir	gdml
#
#     GDML geometry description files.
#
#>  incdir		product_dir	include
#
#     Headers.
#
#>  libdir		fq_dir		lib
#
#     Compiled and other libraries.
#
#>  perllib		product_dir	perl5lib
#
#     Perl modules, etc.
#
#>  set_fwdir
#
#     An additional location for framework data to be added to
#     FW_SEARCH_PATH; may be specified multiple times.
#
#>  set_wpdir
#
#     An additional location for wirecell data to be added to
#     WIRECELL_PATH; may be specified multiple times.
#
#>  testdir		product_dir	test
#
#     Tests.
#
#>  wpdir
#
#     Wirecell data.
#
####################################

####################################
# Product table.
#
# Table defining *all* direct UPS package dependencies.
#
##################
# Format:
#
#>  product		version		qual	["<table_format=#>"]
#>  <ups-product_name>	<ups-version>	[<qual-trigger>]	[<flag>]
#>...
#>  end_product_list
#
# <ups-version> may be a UPS version, a chain option (-c, -t, etc.) or a
# chain name with a preceding `-'.
#
# Valid <qual-trigger> values:
#
# * [!]<single-qual>
#
#   A single qualifier whose presence in the parent's qualifier will
#   trigger the setup of the specified version of the product. A prefix
#   of `!' will negate the match.
#
# * <empty>|-
#
#   The specified version of the product will always be set up
#   regardless of the parent's qualifiers. Use `-' as a placeholder if
#   <flag> is to be specified.
#
# * -nq-
#
#   Specify explicitly that this product should be set up when the
#   parent is unqualified.
#
# * -default-
#
#   The specified version of the product will be set up if no other
#   product table entry for this product is applicable to the parent's
#   qualifiers.
#
# Valid <flag> values:
#
# * only_for_build
#
#   The specified product will be set up for building only, and will not
#   be added to the table file.
#
# * optional
#
#   It will not be an error if the specified product is not available to
#   be set up.
#
##################
# Notes.
#
# * Under older versions of the product table format ("<table_format=1>"
#   or unspecified), -nq- had the same meaning as `-' above. When
#   updating a product_deps file these entries should be reviewed when
#   <table_format=2> is selected.
#
# * "<format>" is a valid alias for "<table_format>".
#
# * Under most circumstances (the parent is anything other than
#   cetmodules), an entry for cetmodules is required.
#
# * It is an error for more than one non-(<qual-trigger> == "-default-")
#   entry to match for a given product.
#
product		version		qual	flags		<table_format=2>
#> art		v2_08_02
#> someprod	vx_yy_zz
#> anotherprod	va_bb_cc	
#> gcc		v8_2_0		e19
#> gcc		v9_3_0		e20
#> clang	v7_0_0		c7
#> noqualprod	vh_ii_jj	-	only_for_build
cetmodules	v2_26_00 	-	only_for_build
end_product_list
####################################

####################################
# Qualifier table.
#
# For each valid qualifer set of the parent, specify how dependencies
# should be set up.
#
# Format:
#
#>  qualifier		<prod-spec>...	[<notes>]
#>  <parent-qual>	<spec>...   [<text...>]
#>...
#>  end_qualifier_list
#
# <prod-spec> may be a product name or "compiler."
#
# <parent-qual> may be a colon-delimited qualifier set, or "-nq-" as a
# column placeholder in the case of no parent qualifiers.
#
# Unless <prod-spec> is "compiler", <spec> may be a colon-delimited
# qualifier set, or:
#
# * -
#
#   The dependency is not required for this <parent-qual> and will not
#   be set up.
#
# * -nq-
#
#   The dependency will be set up without qualifiers.
#
# * -b- (deprecated)
#
#   A build-only dependency for this <parent-qual>. If the dependency is
#   set up in this way, it will be set up without qualifiers. For more
#   flexibility, use the product table to specify the only_for_build
#   nature of the dependency and the qualifier table to specifiy how it
#   should be set up.
#
# If <prod-spec> is "compiler", <spec> must be `-' (no compiler
# required) or the name of the UPS product for the desired compiler. Any
# qualifiers required to set up the compiler should be specified in the
# appropriate column for that product.
#
##################
# Notes.
#
# * A column for every product in the product table (see above) is
#   *required* unless the only_for_build flag is specified, in which
#   case it is optional.
#
qualifier
-nq-
end_qualifier_list
####################################

####################################
# Table fragment.
#
# Any lines between "table_fragment_begin" and "table_fragment_end" will
# be copied to the table file verbatim.
table_fragment_begin
#>  ...
envSet( ${UPS_PROD_NAME_UC}_BIN, ${${UPS_PROD_NAME_UC}_FQ_DIR}/bin )
if ( test `expr "${${UPS_PROD_NAME_UC}_BIN}" : '.*[/.]/'` -eq 0 -a -d "${${UPS_PROD_NAME_UC}_BIN}" )
  pathPrepend(PATH, ${${UPS_PROD_NAME_UC}_BIN} )
  # older versions of ups (v4_7_4a) have bug that requires else() clause
else  ()
  execute( true, NO_UPS_ENV )
endif ( test `expr "${${UPS_PROD_NAME_UC}_BIN}" : '.*[/.]/'` -eq 0 -a -d "${${UPS_PROD_NAME_UC}_BIN}" )

envSet( ${UPS_PROD_NAME_UC}_VERSION, ${UPS_PROD_VERSION} )

#doing the following would not get undone upon unsetup
#execute( test $?shell \!= 1 && . ${${UPS_PROD_NAME_UC}_BIN}/trace.sh.functions, NO_UPS_ENV )

if ( test $?shell = 1 )
  addAlias( tnotnull_, set vv=%s && eval test \$\?$vv -eq 1 && eval test -n \"\$$vv\" )
  addAlias( set__,     set )
else()
  addAlias( tnotnull_, eval test -n \"\${%s-}\" )
  addAlias( set__,     sts=$?;xx=%s;var=`expr "$xx" : "\([^=]*\)"`; val=`/bin/echo "$xx" | sed -e "1s/^[^=]*=//;s/'/'\"'\"'/g"`;eval "$var='$val'"; return $sts )
endif ( test $?shell = 1 )
	addAlias( tcntl,   ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl %s )
	addAlias( tshow,   set__ opts=%s;tnotnull_ PAGER && ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl show $opts | $PAGER || ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl show $opts )
	addAlias( tinfo,   ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl info %s )
	addAlias( ttids,   ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl tids %s )
	addAlias( tlvls,   ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl tids %s )
	addAlias( tlvlM,   ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl lvlmskM %s )
	addAlias( tlvlS,   ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl lvlmskS %s )
	addAlias( tlvlT,   ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl lvlmskT %s )
	addAlias( tlvlMg,  ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl lvlmskMg %s )
	addAlias( tlvlSg,  ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl lvlmskSg %s )
	addAlias( tlvlTg,  ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl lvlmskTg %s )
	addAlias( tmode,   ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl mode %s )
	addAlias( tmodeM,  ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl modeM %s )
	addAlias( tmodeS,  ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl modeS %s )
	addAlias( tfreeze, ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl modeM 0 %s )
	addAlias( treset,  ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl reset %s )
	addAlias( tdelta,  set__ opts=%s;tnotnull_ PAGER && ${${UPS_PROD_NAME_UC}_BIN}/trace_delta $opts | $PAGER || ${${UPS_PROD_NAME_UC}_BIN}/trace_delta $opts )
	addAlias( tonM,    ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl lvlset  `bitN_to_mask %s` 0 0; ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl modeM 1 )
	addAlias( tonS,    ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl lvlset  0 `bitN_to_mask %s` 0; ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl modeS 1 )
	addAlias( tonT,    ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl lvlset  0 0 `bitN_to_mask %s` )
	addAlias( toffM,   ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl lvlclr  `bitN_to_mask %s` 0 0 )
	addAlias( toffS,   ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl lvlclr  0 `bitN_to_mask %s` 0 )
	addAlias( toffT,   ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl lvlclr  0 0 `bitN_to_mask %s` )
	addAlias( tonMg,   ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl lvlsetg `bitN_to_mask %s` 0 0; ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl modeM 1 )
	addAlias( tonSg,   ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl lvlsetg 0 `bitN_to_mask %s` 0; ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl modeS 1 )
	addAlias( tonTg,   ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl lvlsetg 0 0 `bitN_to_mask %s` )
	addAlias( toffMg,  ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl lvlclrg `bitN_to_mask %s` 0 0 )
	addAlias( toffSg,  ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl lvlclrg 0 `bitN_to_mask %s` 0 )
	addAlias( toffTg,  ${${UPS_PROD_NAME_UC}_BIN}/trace_cntl lvlclrg 0 0 `bitN_to_mask %s` )
	addAlias( tenv,    ${${UPS_PROD_NAME_UC}_BIN}/trace_envvars %s )
table_fragment_end
####################################

####################################
# Backmatter.
#
# Comments and editor-specific metadata.

# Preserve tabs and formatting in emacs and vi / vim:

### Local Variables:
### mode: sh
### tab-width: 8
### End:

# vi:set ts=8 noexpandtab:
